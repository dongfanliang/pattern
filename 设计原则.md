## 原则一：对扩展开放、修改关闭
```
package main

type Counter struct {
}

func (this *Counter) GetMaxTps() int64        { return 0 }
func (this *Counter) GetMaxErrorCount() int64 { return 0 }
func (this *Counter) GetMaxTimeoutTps() int64 { return 0 }

type AlertRule struct {
	M map[string]*Counter
}

func (this *AlertRule) GetMatchedRule(api string) *Counter {
	c, _ := this.M[api]
	return c
}

type ApiStatInfo struct {
	Api               string
	DurationOfSeconds int
}

type AlertHandler interface {
	Check(ApiStatInfo ApiStatInfo)
}

type Controller struct {
	Handers []AlertHandler
}

func (this *Controller) Add(handler AlertHandler) {
	this.Handers = append(this.Handers, handler)
}

func (this *Controller) Do(apiStatInfo ApiStatInfo) {
	for i := 0; i < len(this.Handers); {
		this.Handers[i].Check(apiStatInfo)
	}
}

type TpsAlertHandler struct{}

func (this TpsAlertHandler) Check(apiStatInfo ApiStatInfo) {}

type ErrorAlertHandler struct{}

func (this ErrorAlertHandler) Check(apiStatInfo ApiStatInfo) {}

type TimeoutAlertHandler struct{}

func (this TimeoutAlertHandler) Check(apiStatInfo ApiStatInfo) {}

func main() {
	var apiStatInfo ApiStatInfo
	c := Controller{Handers: make([]AlertHandler, 10)}
	c.Add(TpsAlertHandler{})
	c.Add(ErrorAlertHandler{})
	c.Add(TimeoutAlertHandler{})
	c.Do(apiStatInfo)
}
```